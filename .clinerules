# TSCF - AI支援用ルール（メタ/運用）

本ファイルは AI 支援のための「最小限のメタ情報」を提供します。技術仕様・手順・設計の正（SSOT）は Development.md に集約します。本ファイルには詳細を記載しません（重複禁止）。

## ドキュメントの役割分担

- Development.md（SSOT）
  - 仕様・設計思想・依存関係・ディレクトリ構造・環境構築・日常コマンド・Husky 運用・コアコンセプト・拡張方法・既知の問題・回避策・リリース・トラブルシュート等、あらゆる技術情報の正。
  - 変更が発生したら必ず更新する。

- .clinerules（本ファイル）
  - AI 向け補助（運用方針・重複防止ルール・参照先の指示）。
  - 技術的な詳細は記載しない。常に Development.md を参照する。

## 重複防止・更新ルール

1. 技術情報を更新する際は、Development.md の該当節を更新する（SSOT 反映が先）。
2. その後に、必要があれば本ファイルの「参照先」やメタ指針のみ最小更新。
3. .clinerules に技術詳細（コード/手順/設定）を書かない。必ず Development.md の該当節へ集約する。
4. .clinerules と Development.md に齟齬があれば、Development.md を正として .clinerules を追随修正する。

## 参照ポインタ（AI の行動規範）

AI は回答/修正時に、以下の Development.md の該当節を「必ず」参照すること:

- ディレクトリ構造/主要ディレクトリ: Development.md「ディレクトリ構造」
- ブランチ運用/PR/コミット規約: Development.md「ブランチ運用とコントリビュート」
- 環境要件/初期セットアップ/日常コマンド: Development.md「環境要件と初期セットアップ」「日常のコマンド」
- Husky/品質管理: Development.md「Husky（コード品質管理）」
- コア・コンセプト/フィールド拡張: Development.md「コア・コンセプト」「フィールドタイプの拡張」
- トレードオフ/要注意領域/既知の問題: Development.md「トレードオフと重要な注意事項」「既知の問題と回避策」
- 一時ファイル/サンプルの扱い: Development.md「一時ファイル/サンプルの扱い」
- リリース/CI: Development.md「リリース」
- トラブルシューティング/デバッグ: Development.md「トラブルシューティング / デバッグ」

回答内で具体的手順や設定値に触れる場合は、Development.md の該当節を根拠として一貫性を保つこと。

## PR/変更の作法（AI 実務指針）

- 変更は小さく分割。関連箇所の SSOT（Development.md）更新を含める。
- ブランチ保護に従い、直接 push 禁止。PR 経由で `master` へ。
- PR 本文に背景/変更点/確認方法/影響範囲を記載し、可能なら `Closes #<番号>` を付与。
- 一時/検証ファイルは PR に含めない（詳細は Development.md の該当節）。

## 既存情報の移行ポリシー

- 旧来 .clinerules に存在した技術詳細は、順次 Development.md へ移設済み/今後も移設する。
- 新規の詳細情報は、最初から Development.md に追加する。

## 例外・拡張

- AI のみが知るべき運用メタ（例: 自動化やツールの安全策）が必要になった場合のみ、本ファイルに追記してよい。ただし、技術仕様の重複は不可。
- 本ファイルが肥大化し始めたら、内容を Development.md に移し、本ファイルは参照と方針のみに戻す。

以上。AI は常に Development.md を正とし、整合性と非重複を最優先に行動すること。
